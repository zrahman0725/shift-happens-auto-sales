<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shift Happens Auto Sales</title>

    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel="stylesheet">

    <link rel="stylesheet" href="css/style.css">
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico?">

</head>

<body>

    <header class="header">
        <a href="#" class="logo"><img src="images/IMG-20241122-WA0003_1468205583269761 (1).png" alt="">Shift Happens Auto Sales</a>

        <i class='bx bx-menu' id="menu-icon"></i>

        <nav class="navbar">
            <a href="index.html#home" data-alt-link="home.html" class="active">Home</a>
            <div class="dropdown">
                <a href="inventory.html" data-alt-link="inventory.html">Inventory</a>
                <div class="dropdown-menu">
                    <a href="inventory.html">View Inventory</a>
                    <a href="car-finder.html">Car Finder</a>
                </div>
            </div>
            <div class="dropdown">
                <a href="finance.html" data-alt-link="finance.html">Finance</a>
                <div class="dropdown-menu">
                    <a href="finance-application.html">Finance Application</a>
                    <a href="finance.html">Finance Department</a>
                    <a href="finance.html#credit">Credit Tips</a>
                </div>
            </div>
            <div class="dropdown">
                <a href="services.html" data-alt-link="services.html">Services</a>
                <div class="dropdown-menu">
                    <a href="detailing.html">Detailing</a>
                    <a href="trade-in.html">Trade-ins</a>
                    <a href="test-drive.html">Test Drives</a>
                    <a href="car-loan.html">Loan Calculator</a>
                </div>
            </div>
            <div class="dropdown">
                <a href="about.html" data-alt-link="about.html">Dealership</a>
                <div class="dropdown-menu">
                    <a href="about.html">About Us</a>
                    <a href="index.html#contact-form">Contact</a>
                </div>
            </div>
        </nav>
        
        
    </header>

    <div class="slideshow-container">

        <!-- Full-width images with number and caption text -->
        <div class="mySlides fade">
          <img src="images/slideshow16.jpeg" style="object-fit: cover; height: 350px; width:100%" >
        </div>
      
        <div class="mySlides fade">
          <img src="images/slideshow4.jpg" style="object-fit: cover; height: 350px; width:100%">
        </div>
        
        <div class="mySlides fade">
          <img src="images/slideshow8.jpeg" style="object-fit: cover; height: 350px; width:100%">
        </div>

        <div class="mySlides fade">
            <img src="images/slideshow12.jpg" style="object-fit: cover; height: 350px; width:100%">
        </div>

      
    <section class="home" id="home">
        
        <div class="home-content">
        
            <h1>Shift Happens</h1>
            <h1>Auto Sales</h1>
            <h3 style="color: rgba(232, 232, 232, 0.695);">Second Chances, <span>First-Class Experience</span></h3>
            <div class="social-media">
                <a href="https://www.facebook.com/profile.php?id=61569600025531" target="_blank"><i class='bx bxl-facebook-square'></i></a>
                <a href="https://www.instagram.com/shifthappensautosales/" target="_blank"><i class='bx bxl-instagram-alt'></i></a>
                <a href="#"><i class='bx bxl-twitter'></i></a>
                <a href="#"><i class='bx bxl-tiktok'></i></a>
            </div>
            <a href="inventory.html" class="btn">View Inventory</a>
            <a href="finance.html" class="btn" style="margin-left: 1vh;">Financing</a>

        </div>

        <div class="home-img">
            <img src="images/IMG-20241122-WA0003_1468205583269761 (1).png" alt="">
        </div>
    </section>

    <section class="car-search" style="background-image: url(images/Screen\ Shot\ 2024-12-10\ at\ 4.34.32\ PM.png);">
        <!-- Video Background -->
        <video autoplay muted loop class="background-video">
            <source src="images/final.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>

        
        <!-- Content Overlay -->
        <div class="overlay">
            <h2 class="heading">Find Your Perfect Car</h2>
            <form action="inventory.html" method="get" class="search-form">
                <select id="make" name="make">
                    <option value="">Select Make</option>
                </select>
                <select id="model" name="model">
                    <option value="">Select Model</option>
                </select>
                <div class="range-input">
                    <input type="number" id="minYear" name="year_min" placeholder="Min Year">
                    <input type="number" id="maxYear" name="year_max" placeholder="Max Year">
                </div>
                <div class="range-input">
                    <input type="number" id="minPrice" name="price_min" placeholder="Min Price">
                    <input type="number" id="maxPrice" name="price_max" placeholder="Max Price">
                </div>
                <button type="submit" class="btn">Search</button>
            </form>
                      
        </div>
    </section>
    

    <section class="about" id="about" style="background-image: url('images/grey.png');">
        <div class="about-img">
            <img src="images/about.jpeg" alt="Dealership">
        </div>
        <div class="about-content">
            <h2 class="heading">About <span>Us</span></h2>
            <h3>Your Second Chance Awaits</h3>
            <p>
                At <strong>Shift Happens Auto Sales</strong>, we believe that everyone deserves a fresh start. Our dealership was built on the foundation of helping people, regardless of their credit history. Whether you have <strong>low credit</strong>, <strong>bad credit</strong>, or even <strong>no credit</strong>, we specialize in finding solutions tailored to your needs. We started with a simple mission: to provide an honest, supportive, and stress-free car-buying experience. Over the years, we've helped countless individuals and families get back on the road to financial stability and personal freedom. Our <a href="finance.html" class="finance-link">excellent financing programs</a> are designed to work with your unique situation. We partner with trusted lenders who share our commitment to giving you a second chance. With flexible terms and personalized support, we’ll guide you every step of the way. At Shift Happens Auto Sales, it's not just about the car you drive off with—it's about the journey we take together. Let us help you get back on the road and take control of your future.
            </p>
            <a href="about.html" class="btn read-more">Read More</a>
        </div>
    </section>
    
    <section class="gallery" id="gallery">
        <h2 class="heading">Inventory <span>Showcase</span></h2>
        <div class="gallery-slider">
            <div class="gallery-track"></div>
        </div>
    </section>
    
    
    <section class="services" id="services">
        <h2 class="heading">Explore Our <span>Services</span></h2>
        <div class="grid-container">
            <div class="top-left service">
                <a href="car-finder.html" class="service-link"></a>
                <img src="images/stock3.jpeg" alt="">
                <h3 class="service-title">Car Finder</h3>
                <div class="overlay">
                    <button class="btn">Find Now</button>
                </div>
            </div>
            <div class="bottom-left service">
                <a href="inventory.html" class="service-link"></a>
                <img src="images/stock7.jpeg" alt="">
                <h3 class="service-title">Inventory</h3>
                <div class="overlay">
                    <button class="btn">View All</button>
                </div>
            </div>
            <div class="top-right service">
                <a href="finance.html" class="service-link"></a>
                <img src="images/finance.png" alt="">
                <h3 class="service-title">Finance</h3>
                <div class="overlay">
                    <button class="btn">Learn More</button>
                </div>
            </div>
            <div class="bottom-middle service">
                <a href="test-drive.html" class="service-link"></a>
                <img src="images/stock4.png" alt="">
                <h3 class="service-title">Test Drive</h3>
                <div class="overlay">
                    <button class="btn">Schedule Now</button>
                </div>
            </div>
            <div class="bottom-right service">
                <a href="services.html" class="service-link"></a>
                <img src="images/workshop.png" alt="">
                <h3 class="service-title">All Services</h3>
                <div class="overlay">
                    <button class="btn">View All</button>
                </div>
            </div>
        </div>
        
        
        
    </section>
    
    



    <section class="contact" id="contact">
        <h2 class="heading">Contact <span>Us</span></h2>
        <div class="contact-container">
            <div class="contact-info translucent-container sr-element">
                <div class="map-container">
                    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d4989.97218222256!2d-113.99802462368639!3d51.29298002634527!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x53715f62c3fc241d%3A0x1b7f0accae32b0c8!2s59%20East%20Lake%20Crescent%20NE%2C%20Airdrie%2C%20AB%20T4A%202H5!5e0!3m2!1sen!2sca!4v1734050824072!5m2!1sen!2sca" width="100%" height="300" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                </div>
                <div class="address-info">
                    <p>59 East Lake Crescent NE<br> Airdrie, AB, T4A 2H5</p>
                    <p>(825)-736-4438</p>
                    <p><a href="mailto:luke@shifthappensautosales.ca">luke@shifthappensautosales.ca</a></p>
                    <p>Hours of Operation:<br> Monday - Thursday: 10am - 7pm<br> Friday - Saturday: 10am - 6pm<br>Sunday: Closed</p>
                </div>
            </div>
            <form id="contact-form" class="contact-form" action="#" method="post">
                <div class="input-box">
                    <input type="text" name="name" placeholder="Full Name" required>
                    <input type="email" name="email" placeholder="Email Address" required>
                </div>
                <div class="input-box">
                    <input type="tel" name="mobile" placeholder="Mobile Number" required>
                    <input type="text" name="subject" placeholder="Email Subject" required>
                </div>
                <textarea name="message" id="message" cols="30" rows="10" placeholder="Your Message" required></textarea>
                <input type="submit" value="Send Message" class="btn">
            </form>
        </div>
    </section>

    <footer class="footer">
        <div class="footer-text">
            <p>Copyright &copy; 2024 by Shift Happens Auto Sales | All Rights Reserved. | <a href="admin-login.html">Admin</a> </p>
        </div>

        <div class="footer-iconTop">
            <a href="#"><i class='bx bx-up-arrow-alt'></i></a>
        </div>
    </footer>

<!-- Script for EmailJS -->
<script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', () => {
        emailjs.init('dFqCwHX3sOZHyAPK4');

        const contactForm = document.getElementById('contact-form');
        if (contactForm) {
            contactForm.addEventListener('submit', function (event) {
                event.preventDefault();
                emailjs.sendForm('service_1gclp48', 'template_vy5h7c6', contactForm)
                    .then((response) => {
                        contactForm.reset();
                    })
                    .catch((error) => {
                        alert('Oops! There was a problem submitting your form. Please try again later.');
                    });
            });
        }
    });
</script>
<script>
    document.addEventListener("DOMContentLoaded", () => {
        const urlParams = new URLSearchParams(window.location.search);
        const prefilledMessage = urlParams.get("message");

        if (prefilledMessage) {
            const messageTextarea = document.getElementById("message");
            messageTextarea.value = prefilledMessage;
        }
    });
</script>
<!-- Firebase Initialization and Carousel Population -->
<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.17.1/firebase-app.js";
    import { getFirestore, collection, getDocs, addDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/9.17.1/firebase-firestore.js";

    const firebaseConfig = {
        apiKey: "AIzaSyDv6Jkk-7XqeCMTy14Fjs_upMAjVM7uNVg",
        authDomain: "shift-happens-auto-sales.firebaseapp.com",
        projectId: "shift-happens-auto-sales",
        storageBucket: "shift-happens-auto-sales.appspot.com",
        messagingSenderId: "224158026936",
        appId: "1:224158026936:web:690dd13405f6b1bfc4b84d"
    };

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);


    async function populateMakeAndModel() {
    const inventoryRef = collection(db, "inventory");
    const inventorySnapshot = await getDocs(inventoryRef);
    const makes = {};
    const models = {};

    inventorySnapshot.forEach((doc) => {
        const data = doc.data();
        if (!makes[data.make]) makes[data.make] = 0;
        makes[data.make]++;
        if (!models[data.make]) models[data.make] = {};
        if (!models[data.make][data.model]) models[data.make][data.model] = 0;
        models[data.make][data.model]++;
    });

    const sortedMakes = Object.keys(makes).sort();
    const makeSelect = document.getElementById("make");
    const modelSelect = document.getElementById("model");

    sortedMakes.forEach((make) => {
        const option = document.createElement("option");
        option.value = make;
        option.textContent = `${make} (${makes[make]})`;
        makeSelect.appendChild(option);
    });

    makeSelect.addEventListener("change", () => {
        const selectedMake = makeSelect.value.split(" (")[0];
        modelSelect.innerHTML = '<option value="">Select Model</option>';
        if (models[selectedMake]) {
            const sortedModels = Object.keys(models[selectedMake]).sort();
            sortedModels.forEach((model) => {
                const option = document.createElement("option");
                option.value = model;
                option.textContent = `${model} (${models[selectedMake][model]})`;
                modelSelect.appendChild(option);
            });
        }
    });
}

document.addEventListener("DOMContentLoaded", populateMakeAndModel);

    async function fetchCarouselInventory() {
        const inventoryRef = collection(db, "inventory");
        const inventorySnapshot = await getDocs(inventoryRef);

        const inventory = [];
        inventorySnapshot.forEach((doc) => {
            inventory.push({ id: doc.id, ...doc.data() });
        });
        return inventory;
    }

    function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
    }

    document.addEventListener('DOMContentLoaded', async () => {
        const carousel = document.querySelector(".gallery-track");
        const inventoryItems = await fetchCarouselInventory();

        // Shuffle the inventory array
        shuffleArray(inventoryItems);

        // Select the first 5 items
        const randomItems = inventoryItems.slice(0, 9);

        // Create cards for these items
        randomItems.forEach((item) => {
            const card = document.createElement("div");
            card.classList.add("vehicle-card");
            card.innerHTML = `
                <div class="vehicle-image">
                    <img src="${item.mainPictureUrl}" alt="${item.make} ${item.model}">
                </div>
                <div class="vehicle-details">
                    <h3>${item.year} ${item.make} ${item.model}</h3>
                    <p>Mileage: ${parseInt(item.mileage).toLocaleString()} km</p>
                    <p>Transmission: ${item.transmission}</p>
                    <p>Price: $${parseFloat(item.price).toLocaleString()}</p>
                    <a href="inventory.html" class="btn view-details-btn">See All</a>
                </div>`;
            carousel.appendChild(card);
        });
    });

        // Handle form submission
        document.getElementById("contact-form").addEventListener("submit", async (event) => {
        event.preventDefault(); // Prevent default form submission

        // Collect form data
        const formData = {
            formType: "contact-form",
            name: document.querySelector("[name='name']").value,
            email: document.querySelector("[name='email']").value,
            mobile: document.querySelector("[name='mobile']").value,
            subject: document.querySelector("[name='subject']").value,
            message: document.getElementById("message").value,
            timestamp: serverTimestamp(),
        };

        try {
            // Save data to Firestore in the 'new-forms' collection
            await addDoc(collection(db, "new-forms"), formData);

            document.getElementById("contact-form").reset(); // Reset form
        } catch (error) {
            console.error("Error submitting form: ", error);
            alert("Oops! There was a problem submitting your form. Please try again later.");
        }
    });
</script>



<!-- Navbar Toggle for Mobile -->
<script>
    document.addEventListener('DOMContentLoaded', () => {
        const menuIcon = document.getElementById('menu-icon');
        const navbar = document.querySelector('.navbar');

        if (menuIcon && navbar) {
            menuIcon.addEventListener('click', () => {
                navbar.classList.toggle('active');
            });
        }
    });
</script>

<!-- Additional Libraries -->
<script src="https://unpkg.com/scrollreveal"></script>
<script src="https://unpkg.com/typed.js@2.1.0/dist/typed.umd.js"></script>

<!-- Custom Scripts -->
<script src="js/script.js"></script>

</body>

</html>