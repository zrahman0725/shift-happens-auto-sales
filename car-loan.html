<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-T7BZV8J6');</script>
<!-- End Google Tag Manager -->
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Services - Shift Happens Auto Sales</title>

    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel="stylesheet">

    <link rel="stylesheet" href="css/loan.css">
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico?">

</head>

<body>
    <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-T7BZV8J6"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

    <header class="header">
        <a href="index.html" class="logo"><img src="images/IMG-20241122-WA0003_1468205583269761 (1).png" alt="">Shift Happens Auto Sales</a>

        <i class='bx bx-menu' id="menu-icon"></i>

        <nav class="navbar">
            <a href="index.html#home" data-alt-link="home.html">Home</a>
            <div class="dropdown">
                <a href="inventory.html" data-alt-link="inventory.html">Inventory</a>

            </div>
            <div class="dropdown">
                <a href="finance.html" data-alt-link="finance.html">Finance</a>
                <div class="dropdown-menu">
                    <a href="finance-application.html">Finance Application</a>
                    <a href="finance.html">Finance Department</a>
                    <a href="finance.html#credit">Credit Tips</a>
                </div>
            </div>
            <div class="dropdown">
                <a href="services.html" data-alt-link="services.html" class="active">Services</a>
                <div class="dropdown-menu">
                    <a href="detailing.html">Detailing</a>
                    <a href="trade-in.html">Trade-ins</a>
                    <a href="test-drive.html">Test Drives</a>
                    <a href="car-loan.html">Loan Calculator</a>
                </div>
            </div>
            <div class="dropdown">
                <a href="about.html" data-alt-link="about.html">Dealership</a>
                <div class="dropdown-menu">
                    <a href="about.html">About Us</a>
                    <a href="index.html#contact-form">Contact</a>
                </div>
            </div>
        </nav>
        
        
    </header>

    <section class="form" id="form">
        <h2 class="heading">Loan <span>Calculator</span></h2>
        <div class="loan-calculator">
            <form id="loan-form">
    
                <!-- Slider Block -->
                <div class="form-group">
                    <label for="vehicle-price">Price of your new vehicle: <span id="vehicle-price-value">$20,000</span></label>
                    <input type="range" id="vehicle-price" min="1000" max="100000" step="500" value="20000">
                </div>
    
                <div class="form-group">
                    <label for="trade-in">Value of your trade-in vehicle: <span id="trade-in-value">$0</span></label>
                    <input type="range" id="trade-in" min="0" max="50000" step="500" value="0">
                </div>
    
                <div class="form-group">
                    <label for="existing-loan">Your existing vehicle loan balance: <span id="existing-loan-value">$0</span></label>
                    <input type="range" id="existing-loan" min="0" max="50000" step="500" value="0">
                </div>
    
                <div class="form-group">
                    <label for="down-payment">Your down payment: <span id="down-payment-value">$0</span></label>
                    <input type="range" id="down-payment" min="0" max="50000" step="500" value="0">
                </div>
    
                <div class="form-group">
                    <label for="loan-term">Duration of your loan: <span id="loan-term-value">60 months</span></label>
                    <input type="range" id="loan-term" min="12" max="96" step="12" value="60">
                </div>
    
                <div class="form-group">
                    <label for="sales-tax">Provincial sales tax: <span id="sales-tax-value">13%</span></label>
                    <input type="range" id="sales-tax" min="0" max="15" step="0.1" value="13">
                </div>
    
                <div class="form-group">
                    <label for="interest-rate">Expected interest rate: <span id="interest-rate-value">6.5%</span></label>
                    <input type="range" id="interest-rate" min="0" max="20" step="0.1" value="6.5">
                </div>
    
                <button type="button" id="calculate-btn">Calculate</button>
            </form>
    
            <div id="result" class="results">
                <h3>Your total amount to be financed will be</h3>
                <p class="total-financed" id="total-financed">$0.00</p>
    
                <h3>With the following payments:</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Payment Frequency</th>
                            <th>Payment Amount</th>
                            <th>Total Interest to be Paid<br>over the Duration of the Loan</th>
                        </tr>
                    </thead>
                    <tbody id="payment-table">
                        <!-- Rows will be inserted here -->
                    </tbody>
                </table>
            </div>
        </div>
    </section>
    
    

    <footer class="footer">
        <div class="footer-text">
            <p>Copyright &copy; 2024 by Shift Happens Auto Sales | All Rights Reserved. | <a href="admin-login.html">Admin</a> </p>
        </div>

        <div class="footer-iconTop">
            <a href="#"><i class='bx bx-up-arrow-alt'></i></a>
        </div>
    </footer>

    <!-- <script>
        document.getElementById("calculate-btn").addEventListener("click", function () {
            const loanAmount = parseFloat(document.getElementById("loan-amount").value);
            const annualInterestRate = parseFloat(document.getElementById("interest-rate").value);
            const loanTermYears = parseFloat(document.getElementById("loan-term").value);
    
            if (isNaN(loanAmount) || isNaN(annualInterestRate) || isNaN(loanTermYears)) {
                alert("Please fill in all fields with valid numbers.");
                return;
            }
    
            const monthlyInterestRate = (annualInterestRate / 100) / 12;
            const numberOfPayments = loanTermYears * 12;
    
            const monthlyPayment = 
                (loanAmount * monthlyInterestRate) / 
                (1 - Math.pow(1 + monthlyInterestRate, -numberOfPayments));
    
            document.getElementById("monthly-payment").textContent = 
                monthlyPayment.toFixed(2) ? `$${monthlyPayment.toFixed(2)}` : "$0.00";
        });
    </script> -->

    <!-- Navbar Toggle for Mobile -->
<script>
    document.addEventListener('DOMContentLoaded', () => {
        const menuIcon = document.getElementById('menu-icon');
        const navbar = document.querySelector('.navbar');

        if (menuIcon && navbar) {
            menuIcon.addEventListener('click', () => {
                navbar.classList.toggle('active');
            });
        }
    });
</script>
<script>
    const formatCurrency = value => {
        return `$${parseFloat(value).toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;
    };

    // Element references
    const sliders = {
        "vehicle-price": "vehicle-price-value",
        "trade-in": "trade-in-value",
        "existing-loan": "existing-loan-value",
        "down-payment": "down-payment-value",
        "loan-term": "loan-term-value",
        "sales-tax": "sales-tax-value",
        "interest-rate": "interest-rate-value"
    };

    // Live update slider values
    Object.keys(sliders).forEach(id => {
        const slider = document.getElementById(id);
        const label = document.getElementById(sliders[id]);

        const updateValue = () => {
            let value = slider.value;
            if (id === "loan-term") {
                label.textContent = `${value} months`;
            } else if (id === "sales-tax" || id === "interest-rate") {
                label.textContent = `${parseFloat(value).toFixed(1)}%`;
            } else {
                label.textContent = formatCurrency(value);
            }
        };

        slider.addEventListener("input", updateValue);
        updateValue(); // initialize on load
    });

    document.getElementById("calculate-btn").addEventListener("click", () => {
        // Get values
        const price = parseFloat(document.getElementById("vehicle-price").value);
        const tradeIn = parseFloat(document.getElementById("trade-in").value);
        const existingLoan = parseFloat(document.getElementById("existing-loan").value);
        const downPayment = parseFloat(document.getElementById("down-payment").value);
        const loanTerm = parseInt(document.getElementById("loan-term").value);
        const salesTax = parseFloat(document.getElementById("sales-tax").value);
        const interestRate = parseFloat(document.getElementById("interest-rate").value);

        const priceWithTax = price * (1 + (salesTax / 100));
        const loanBase = priceWithTax - tradeIn - downPayment + existingLoan;

        const monthlyInterest = (interestRate / 100) / 12;
        const totalMonths = loanTerm;

        const calcPayment = (principal, rate, n) => {
            if (rate === 0) return principal / n;
            return (principal * rate) / (1 - Math.pow(1 + rate, -n));
        };

        // Payment frequencies
        const paymentPlans = [
            { label: "Monthly", periods: 12 },
            { label: "Bi-weekly", periods: 26 },
            { label: "Weekly", periods: 52 }
        ];

        // Update total to finance
        document.getElementById("total-financed").textContent = formatCurrency(loanBase);

        // Generate table rows
        const tbody = document.getElementById("payment-table");
        tbody.innerHTML = "";

        paymentPlans.forEach(plan => {
            const totalPayments = plan.periods * (loanTerm / 12);
            const periodRate = (interestRate / 100) / plan.periods;

            const payment = calcPayment(loanBase, periodRate, totalPayments);
            const totalPaid = payment * totalPayments;
            const totalInterest = totalPaid - loanBase;

            const row = document.createElement("tr");

            row.innerHTML = `
                <td>${plan.label}</td>
                <td>${formatCurrency(payment)}</td>
                <td>${formatCurrency(totalInterest)}</td>
            `;

            tbody.appendChild(row);
        });
    });
</script>

    <script async src="https://www.googletagmanager.com/gtag/js?id=G-T9JBG16GQR"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-T9JBG16GQR');
</script>

</body>

</html>
