<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trade-In - Shift Happens Auto Sales</title>

    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel="stylesheet">

    <link rel="stylesheet" href="css/trade-in.css">
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico?">

</head>

<body>

    <header class="header">
        <a href="index.html" class="logo"><img src="images/IMG-20241122-WA0003_1468205583269761 (1).png" alt="">Shift Happens Auto Sales</a>

        <i class='bx bx-menu' id="menu-icon"></i>

        <nav class="navbar">
            <a href="index.html#home" data-alt-link="home.html">Home</a>
            <div class="dropdown">
                <a href="inventory.html" data-alt-link="inventory.html">Inventory</a>
                <div class="dropdown-menu">
                    <a href="inventory.html">View Inventory</a>
                    <a href="car-finder.html">Car Finder</a>
                </div>
            </div>
            <div class="dropdown">
                <a href="finance.html" data-alt-link="finance.html">Finance</a>
                <div class="dropdown-menu">
                    <a href="finance-application.html">Finance Application</a>
                    <a href="finance.html">Finance Department</a>
                    <a href="finance.html#credit">Credit Tips</a>
                </div>
            </div>
            <div class="dropdown">
                <a href="services.html" data-alt-link="services.html" class="active">Services</a>
                <div class="dropdown-menu">
                    <a href="detailing.html">Detailing</a>
                    <a href="trade-in.html">Trade-ins</a>
                    <a href="test-drive.html">Test Drives</a>
                    <a href="car-loan.html">Loan Calculator</a>
                </div>
            </div>
            <div class="dropdown">
                <a href="about.html" data-alt-link="about.html">Dealership</a>
                <div class="dropdown-menu">
                    <a href="about.html">About Us</a>
                    <a href="index.html#contact-form">Contact</a>
                </div>
            </div>
        </nav>
        
        
    </header>

    <section class="form" id="appraise-trade">
        <h2 class="heading">Appraise My <span>Trade</span></h2>
        <div class="description-box">
            <p>
                Provide your vehicle and personal details below to receive an appraisal for your trade-in. 
                Our team will evaluate your submission and get back to you promptly.
            </p>
        </div>
        <form class="trade-appraisal-form">
            <h3>Personal Information</h3>
            <div class="form-group">
                <div>
                    <label for="first-name">First Name <span class="required">*</span></label>
                    <input type="text" id="first-name" name="first-name" placeholder="Enter your first name" required>
                </div>
                <div>
                    <label for="last-name">Last Name <span class="required">*</span></label>
                    <input type="text" id="last-name" name="last-name" placeholder="Enter your last name" required>
                </div>
                <div>
                    <label for="email">Email <span class="required">*</span></label>
                    <input type="email" id="email" name="email" placeholder="Enter your email" required>
                </div>
                <div>
                    <label for="phone">Phone Number <span class="required">*</span></label>
                    <input type="tel" id="phone" name="phone" placeholder="Enter your phone number" required>
                </div>
            </div>
    
            <h3>Vehicle Information</h3>
            <div class="form-group">
                <div>
                    <label for="make">Make <span class="required">*</span></label>
                    <input type="text" id="make" name="make" placeholder="Enter vehicle make" required>
                </div>
                <div>
                    <label for="model">Model <span class="required">*</span></label>
                    <input type="text" id="model" name="model" placeholder="Enter vehicle model" required>
                </div>
                <div>
                    <label for="year">Year <span class="required">*</span></label>
                    <select id="year" name="year" required>
                        <option value="" disabled selected>Select year</option>
                        <!-- Dynamic options will be added via JavaScript -->
                    </select>
                </div>                
                <div>
                    <label for="trim">Trim</label>
                    <input type="text" id="trim" name="trim" placeholder="Enter trim (optional)">
                </div>
                <div>
                    <label for="kilometers">Kilometers <span class="required">*</span></label>
                    <input type="number" id="kilometers" name="kilometers" placeholder="Enter mileage" required>
                </div>
                <div>
                    <label for="body-style">Body Style</label>
                    <select id="body-style" name="body-style">
                        <option value="" disabled selected>Select body style</option>
                        <option value="sedan">Sedan</option>
                        <option value="suv">SUV</option>
                    </select>
                </div>
                <div>
                    <label for="transmission">Transmission</label>
                    <select id="transmission" name="transmission">
                        <option value="" disabled selected>Select transmission</option>
                        <option value="automatic">Automatic</option>
                        <option value="manual">Manual</option>
                    </select>
                </div>
                <div>
                    <label for="vin">VIN <span class="required">*</span></label>
                    <input type="text" id="vin" name="vin" placeholder="Enter Vehicle Identification Number" required>
                </div>
            </div>
    
            <div class="form-group">
                <div>
                    <label for="additional-info">Additional Details</label>
                    <textarea id="additional-info" name="additional-info" rows="4" placeholder="Provide any additional details about your trade-in"></textarea>
                </div>
            </div>
    
            <button type="submit">Submit Appraisal</button>
        </form>
    </section>
    
    <script>
        // Dynamically populate the "Year" dropdown
        const yearDropdown = document.getElementById('year');
        const currentYear = new Date().getFullYear();
        const earliestYear = 1980;
    
        // Add dynamic year options
        for (let year = currentYear; year >= earliestYear; year--) {
            const option = document.createElement('option');
            option.value = year;
            option.textContent = year;
            yearDropdown.appendChild(option);
        }
    </script>

    <footer class="footer">
        <div class="footer-text">
            <p>Copyright &copy; 2024 by Shift Happens Auto Sales | All Rights Reserved. | <a href="admin-login.html">Admin</a> </p>
        </div>

        <div class="footer-iconTop">
            <a href="#"><i class='bx bx-up-arrow-alt'></i></a>
        </div>
    </footer>


    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.17.1/firebase-app.js";
        import { getFirestore, collection, addDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/9.17.1/firebase-firestore.js";
    
        // Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyDv6Jkk-7XqeCMTy14Fjs_upMAjVM7uNVg",
            authDomain: "shift-happens-auto-sales.firebaseapp.com",
            projectId: "shift-happens-auto-sales",
            storageBucket: "shift-happens-auto-sales.appspot.com",
            messagingSenderId: "224158026936",
            appId: "1:224158026936:web:690dd13405f6b1bfc4b84d"
        };
    
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
    
        // Handle form submission
        document.querySelector(".trade-appraisal-form").addEventListener("submit", async (event) => {
            event.preventDefault(); // Prevent default form submission
    
            // Collect form data
            const formData = {
                formType: "trade-in",
                firstName: document.getElementById("first-name").value,
                lastName: document.getElementById("last-name").value,
                email: document.getElementById("email").value,
                phone: document.getElementById("phone").value,
                vehicle: {
                    make: document.getElementById("make").value,
                    model: document.getElementById("model").value,
                    year: document.getElementById("year").value,
                    trim: document.getElementById("trim").value || null,
                    kilometers: document.getElementById("kilometers").value,
                    bodyStyle: document.getElementById("body-style").value || null,
                    transmission: document.getElementById("transmission").value || null,
                    vin: document.getElementById("vin").value || null
                },
                additionalInfo: document.getElementById("additional-info").value || null,
                timestamp: serverTimestamp(),
            };
    
            try {
                // Save data to Firestore in the 'new-forms' collection
                await addDoc(collection(db, "new-forms"), formData);
                document.querySelector(".trade-appraisal-form").reset(); // Reset form
                alert("Form submitted successfully!");
            } catch (error) {
                console.error("Error submitting form: ", error);
                alert("Error submitting form. Please try again.");
            }
        });
    </script>
    
    <!-- Navbar Toggle for Mobile -->
<script>
    document.addEventListener('DOMContentLoaded', () => {
        const menuIcon = document.getElementById('menu-icon');
        const navbar = document.querySelector('.navbar');

        if (menuIcon && navbar) {
            menuIcon.addEventListener('click', () => {
                navbar.classList.toggle('active');
            });
        }
    });
</script>


</body>

</html>